<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Thu Sep 21 21:59:29 PDT 2023 -->
<title>BlockWriter (Lucene 9.8.0 codecs API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-09-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BlockWriter (Lucene 9.8.0 codecs API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BlockWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.codecs.uniformsplit</a></div>
<h2 title="Class BlockWriter" class="title">Class BlockWriter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.codecs.uniformsplit.BlockWriter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="sharedterms/STBlockWriter.html" title="class in org.apache.lucene.codecs.uniformsplit.sharedterms">STBlockWriter</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">BlockWriter</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Writes blocks in the block file.

 <p>According the Uniform Split technique, the writing combines three steps per block, and it is
 repeated for all the field blocks:

 <ol>
   <li>Select the term with the shortest <a href="TermBytes.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>minimal distinguishing prefix</code></a> (MDP) in
       the neighborhood of the <a href="#targetNumBlockLines"><code>target block size</code></a> (+- <a href="#deltaNumLines"><code>delta size</code></a>)
   <li>The selected term becomes the first term of the next block, and its MDP is the next block
       key.
   <li>The current block is written to the <a href="UniformSplitPostingsFormat.html#TERMS_BLOCKS_EXTENSION"><code>block file</code></a>. And its block key is <a href="IndexDictionary.Builder.html#add(org.apache.lucene.util.BytesRef,long)"><code>added</code></a> to the <a href="IndexDictionary.html" title="interface in org.apache.lucene.codecs.uniformsplit"><code>index
       dictionary</code></a>.
 </ol>

 <p>This stateful <a href="BlockWriter.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>BlockWriter</code></a> is called repeatedly to <a href="#addLine(org.apache.lucene.util.BytesRef,org.apache.lucene.codecs.BlockTermState,org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)"><code>add</code></a> all the <a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>BlockLine</code></a> terms of a field. Then
 <a href="#finishLastBlock(org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)"><code>finishLastBlock(org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)</code></a> is called. And then this <a href="BlockWriter.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>BlockWriter</code></a> can be reused to add the
 terms of another field.</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="BlockEncoder.html" title="interface in org.apache.lucene.codecs.uniformsplit">BlockEncoder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blockEncoder">blockEncoder</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="BlockHeader.Serializer.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockHeader.Serializer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blockHeaderWriter">blockHeaderWriter</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blockLines">blockLines</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../core/org/apache/lucene/store/ByteBuffersDataOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">ByteBuffersDataOutput</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blockLinesWriteBuffer">blockLinesWriteBuffer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="BlockLine.Serializer.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine.Serializer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blockLineWriter">blockLineWriter</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../core/org/apache/lucene/store/IndexOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">IndexOutput</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blockOutput">blockOutput</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../core/org/apache/lucene/store/ByteBuffersDataOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">ByteBuffersDataOutput</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blockWriteBuffer">blockWriteBuffer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deltaNumLines">deltaNumLines</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="FieldMetadata.html" title="class in org.apache.lucene.codecs.uniformsplit">FieldMetadata</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fieldMetadata">fieldMetadata</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink">BytesRef</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastTerm">lastTerm</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="BlockHeader.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockHeader</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reusableBlockHeader">reusableBlockHeader</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink">BytesRef</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#scratchBytesRef">scratchBytesRef</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#targetNumBlockLines">targetNumBlockLines</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="DeltaBaseTermStateSerializer.html" title="class in org.apache.lucene.codecs.uniformsplit">DeltaBaseTermStateSerializer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#termStateSerializer">termStateSerializer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../core/org/apache/lucene/store/ByteBuffersDataOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">ByteBuffersDataOutput</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#termStatesWriteBuffer">termStatesWriteBuffer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.lucene.store.IndexOutput,int,int,org.apache.lucene.codecs.uniformsplit.BlockEncoder)">BlockWriter</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/store/IndexOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">IndexOutput</a>&nbsp;blockOutput,
           int&nbsp;targetNumBlockLines,
           int&nbsp;deltaNumLines,
           <a href="BlockEncoder.html" title="interface in org.apache.lucene.codecs.uniformsplit">BlockEncoder</a>&nbsp;blockEncoder)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addBlockKey(java.util.List,org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">addBlockKey</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&gt;&nbsp;blockLines,
           <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)</code></th>
<td class="colLast">
<div class="block">Adds a new block key with its corresponding block file pointer to the <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit"><code>IndexDictionary.Builder</code></a> .</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addLine(org.apache.lucene.util.BytesRef,org.apache.lucene.codecs.BlockTermState,org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">addLine</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink">BytesRef</a>&nbsp;term,
       <a href="../../../../../../core/org/apache/lucene/codecs/BlockTermState.html?is-external=true" title="class or interface in org.apache.lucene.codecs" class="externalLink">BlockTermState</a>&nbsp;blockTermState,
       <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)</code></th>
<td class="colLast">
<div class="block">Adds a new <a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>BlockLine</code></a> term for the current field.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="BlockHeader.Serializer.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockHeader.Serializer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createBlockHeaderSerializer()">createBlockHeaderSerializer</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="BlockLine.Serializer.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine.Serializer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createBlockLineSerializer()">createBlockLineSerializer</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="DeltaBaseTermStateSerializer.html" title="class in org.apache.lucene.codecs.uniformsplit">DeltaBaseTermStateSerializer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createDeltaBaseTermStateSerializer()">createDeltaBaseTermStateSerializer</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finishLastBlock(org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">finishLastBlock</a></span>&#8203;(<a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)</code></th>
<td class="colLast">
<div class="block">This method is called when there is no more term for the field.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#splitAndWriteBlock(org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">splitAndWriteBlock</a></span>&#8203;(<a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)</code></th>
<td class="colLast">
<div class="block">Defines the new block start according to <a href="#targetNumBlockLines"><code>targetNumBlockLines</code></a> and <a href="#deltaNumLines"><code>deltaNumLines</code></a>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateFieldMetadata(long)">updateFieldMetadata</a></span>&#8203;(long&nbsp;blockStartFP)</code></th>
<td class="colLast">
<div class="block">updates the field metadata after all lines were written for the block.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeBlock(java.util.List,org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">writeBlock</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&gt;&nbsp;blockLines,
          <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)</code></th>
<td class="colLast">
<div class="block">Writes a block and adds its block key to the dictionary builder.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeBlockLine(boolean,org.apache.lucene.codecs.uniformsplit.BlockLine,org.apache.lucene.codecs.uniformsplit.BlockLine)">writeBlockLine</a></span>&#8203;(boolean&nbsp;isIncrementalEncodingSeed,
              <a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&nbsp;line,
              <a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&nbsp;previousLine)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="targetNumBlockLines">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>targetNumBlockLines</h4>
<pre>protected final&nbsp;int targetNumBlockLines</pre>
</li>
</ul>
<a id="deltaNumLines">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deltaNumLines</h4>
<pre>protected final&nbsp;int deltaNumLines</pre>
</li>
</ul>
<a id="blockLines">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockLines</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&gt; blockLines</pre>
</li>
</ul>
<a id="blockOutput">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockOutput</h4>
<pre>protected final&nbsp;<a href="../../../../../../core/org/apache/lucene/store/IndexOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">IndexOutput</a> blockOutput</pre>
</li>
</ul>
<a id="blockLinesWriteBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockLinesWriteBuffer</h4>
<pre>protected final&nbsp;<a href="../../../../../../core/org/apache/lucene/store/ByteBuffersDataOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">ByteBuffersDataOutput</a> blockLinesWriteBuffer</pre>
</li>
</ul>
<a id="termStatesWriteBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>termStatesWriteBuffer</h4>
<pre>protected final&nbsp;<a href="../../../../../../core/org/apache/lucene/store/ByteBuffersDataOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">ByteBuffersDataOutput</a> termStatesWriteBuffer</pre>
</li>
</ul>
<a id="blockHeaderWriter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockHeaderWriter</h4>
<pre>protected final&nbsp;<a href="BlockHeader.Serializer.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockHeader.Serializer</a> blockHeaderWriter</pre>
</li>
</ul>
<a id="blockLineWriter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockLineWriter</h4>
<pre>protected final&nbsp;<a href="BlockLine.Serializer.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine.Serializer</a> blockLineWriter</pre>
</li>
</ul>
<a id="termStateSerializer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>termStateSerializer</h4>
<pre>protected final&nbsp;<a href="DeltaBaseTermStateSerializer.html" title="class in org.apache.lucene.codecs.uniformsplit">DeltaBaseTermStateSerializer</a> termStateSerializer</pre>
</li>
</ul>
<a id="blockEncoder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockEncoder</h4>
<pre>protected final&nbsp;<a href="BlockEncoder.html" title="interface in org.apache.lucene.codecs.uniformsplit">BlockEncoder</a> blockEncoder</pre>
</li>
</ul>
<a id="blockWriteBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockWriteBuffer</h4>
<pre>protected final&nbsp;<a href="../../../../../../core/org/apache/lucene/store/ByteBuffersDataOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">ByteBuffersDataOutput</a> blockWriteBuffer</pre>
</li>
</ul>
<a id="fieldMetadata">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fieldMetadata</h4>
<pre>protected&nbsp;<a href="FieldMetadata.html" title="class in org.apache.lucene.codecs.uniformsplit">FieldMetadata</a> fieldMetadata</pre>
</li>
</ul>
<a id="lastTerm">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastTerm</h4>
<pre>protected&nbsp;<a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink">BytesRef</a> lastTerm</pre>
</li>
</ul>
<a id="reusableBlockHeader">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reusableBlockHeader</h4>
<pre>protected final&nbsp;<a href="BlockHeader.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockHeader</a> reusableBlockHeader</pre>
</li>
</ul>
<a id="scratchBytesRef">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>scratchBytesRef</h4>
<pre>protected&nbsp;<a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink">BytesRef</a> scratchBytesRef</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.lucene.store.IndexOutput,int,int,org.apache.lucene.codecs.uniformsplit.BlockEncoder)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BlockWriter</h4>
<pre>protected&nbsp;BlockWriter&#8203;(<a href="../../../../../../core/org/apache/lucene/store/IndexOutput.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">IndexOutput</a>&nbsp;blockOutput,
                      int&nbsp;targetNumBlockLines,
                      int&nbsp;deltaNumLines,
                      <a href="BlockEncoder.html" title="interface in org.apache.lucene.codecs.uniformsplit">BlockEncoder</a>&nbsp;blockEncoder)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="createBlockHeaderSerializer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBlockHeaderSerializer</h4>
<pre class="methodSignature">protected&nbsp;<a href="BlockHeader.Serializer.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockHeader.Serializer</a>&nbsp;createBlockHeaderSerializer()</pre>
</li>
</ul>
<a id="createBlockLineSerializer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBlockLineSerializer</h4>
<pre class="methodSignature">protected&nbsp;<a href="BlockLine.Serializer.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine.Serializer</a>&nbsp;createBlockLineSerializer()</pre>
</li>
</ul>
<a id="createDeltaBaseTermStateSerializer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDeltaBaseTermStateSerializer</h4>
<pre class="methodSignature">protected&nbsp;<a href="DeltaBaseTermStateSerializer.html" title="class in org.apache.lucene.codecs.uniformsplit">DeltaBaseTermStateSerializer</a>&nbsp;createDeltaBaseTermStateSerializer()</pre>
</li>
</ul>
<a id="addLine(org.apache.lucene.util.BytesRef,org.apache.lucene.codecs.BlockTermState,org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLine</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;addLine&#8203;(<a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink">BytesRef</a>&nbsp;term,
                       <a href="../../../../../../core/org/apache/lucene/codecs/BlockTermState.html?is-external=true" title="class or interface in org.apache.lucene.codecs" class="externalLink">BlockTermState</a>&nbsp;blockTermState,
                       <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)
                throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Adds a new <a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>BlockLine</code></a> term for the current field.

 <p>This method determines whether the new term is part of the current block, or if it is part
 of the next block. In the latter case, a new block is started (including one or more of the
 lastly added lines), the current block is written to the block file, and the current block key
 is added to the <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit"><code>IndexDictionary.Builder</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>term</code> - The block line term. The <a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink"><code>BytesRef</code></a> instance is used directly, the caller is
     responsible to make a deep copy if needed. This is required because we keep a list of block
     lines until we decide to write the current block, and each line must have a different term
     instance.</dd>
<dd><code>blockTermState</code> - Block line details.</dd>
<dd><code>dictionaryBuilder</code> - to which the block keys are added.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="finishLastBlock(org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishLastBlock</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;finishLastBlock&#8203;(<a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)
                        throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">This method is called when there is no more term for the field. It writes the remaining lines
 added with <a href="#addLine(org.apache.lucene.util.BytesRef,org.apache.lucene.codecs.BlockTermState,org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)"><code>addLine(org.apache.lucene.util.BytesRef, org.apache.lucene.codecs.BlockTermState, org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)</code></a> as the last block of the field and resets this <a href="BlockWriter.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>BlockWriter</code></a>
 state. Then this <a href="BlockWriter.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>BlockWriter</code></a> can be used for another field.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="splitAndWriteBlock(org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitAndWriteBlock</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;splitAndWriteBlock&#8203;(<a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)
                           throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Defines the new block start according to <a href="#targetNumBlockLines"><code>targetNumBlockLines</code></a> and <a href="#deltaNumLines"><code>deltaNumLines</code></a>. The new block is started (including one or more of the lastly added lines),
 the current block is written to the block file, and the current block key is added to the
 <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit"><code>IndexDictionary.Builder</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="writeBlock(java.util.List,org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBlock</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;writeBlock&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&gt;&nbsp;blockLines,
                          <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)
                   throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Writes a block and adds its block key to the dictionary builder.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="updateFieldMetadata(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFieldMetadata</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;updateFieldMetadata&#8203;(long&nbsp;blockStartFP)</pre>
<div class="block">updates the field metadata after all lines were written for the block.</div>
</li>
</ul>
<a id="writeBlockLine(boolean,org.apache.lucene.codecs.uniformsplit.BlockLine,org.apache.lucene.codecs.uniformsplit.BlockLine)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBlockLine</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;writeBlockLine&#8203;(boolean&nbsp;isIncrementalEncodingSeed,
                              <a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&nbsp;line,
                              <a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&nbsp;previousLine)
                       throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="addBlockKey(java.util.List,org.apache.lucene.codecs.uniformsplit.IndexDictionary.Builder)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addBlockKey</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;addBlockKey&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="BlockLine.html" title="class in org.apache.lucene.codecs.uniformsplit">BlockLine</a>&gt;&nbsp;blockLines,
                           <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit">IndexDictionary.Builder</a>&nbsp;dictionaryBuilder)
                    throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Adds a new block key with its corresponding block file pointer to the <a href="IndexDictionary.Builder.html" title="interface in org.apache.lucene.codecs.uniformsplit"><code>IndexDictionary.Builder</code></a> . The block key is the MDP (see <a href="TermBytes.html" title="class in org.apache.lucene.codecs.uniformsplit"><code>TermBytes</code></a>) of the block first
 term.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BlockWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>Copyright &copy; 2000-2023 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</body>
</html>
