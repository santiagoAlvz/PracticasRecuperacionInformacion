<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Thu Sep 21 21:59:33 PDT 2023 -->
<title>BPIndexReorderer (Lucene 9.8.0 misc API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-09-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BPIndexReorderer (Lucene 9.8.0 misc API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BPIndexReorderer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.misc.index</a></div>
<h2 title="Class BPIndexReorderer" class="title">Class BPIndexReorderer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.misc.index.BPIndexReorderer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public final class <span class="typeNameLabel">BPIndexReorderer</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Implementation of "recursive graph bisection", also called "bipartite graph partitioning" and
 often abbreviated BP, an approach to doc ID assignment that aims at reducing the sum of the log
 gap between consecutive postings. While originally targeted at reducing the size of postings,
 this algorithm has been observed to also speed up queries significantly by clustering documents
 that have similar sets of terms together.

 <p>This algorithm was initially described by Dhulipala et al. in "Compressing graphs and inverted
 indexes with recursive graph bisection". This implementation takes advantage of some
 optimizations suggested by Mackenzie et al. in "Tradeoff Options for Bipartite Graph
 Partitioning".

 <p>Typical usage would look like this:

 <pre class="prettyprint">
 LeafReader reader; // reader to reorder
 Directory targetDir; // Directory where to write the reordered index

 Directory targetDir = FSDirectory.open(targetPath);
 BPIndexReorderer reorderer = new BPIndexReorderer();
 ForkJoinPool pool = new ForkJoinPool(Runtime.getRuntime().availableProcessors(),
     p -&gt; new ForkJoinWorkerThread(p) {}, null, false);
 reorderer.setForkJoinPool(pool);
 reorderer.setFields(Collections.singleton("body"));
 CodecReader reorderedReaderView = reorderer.reorder(SlowCodecReaderWrapper.wrap(reader), targetDir);
 try (IndexWriter w = new IndexWriter(targetDir, new IndexWriterConfig().setOpenMode(OpenMode.CREATE))) {
   w.addIndexes(reorderedReaderView);
 }
 DirectoryReader reorderedReader = DirectoryReader.open(targetDir);
 </pre>

 <p>Note: This is a slow operation that consumes O(maxDoc + numTerms * numThreads) memory.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="BPIndexReorderer.NotEnoughRAMException.html" title="class in org.apache.lucene.misc.index">BPIndexReorderer.NotEnoughRAMException</a></span></code></th>
<td class="colLast">
<div class="block">Exception that is thrown when not enough RAM is available.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_MAX_ITERS">DEFAULT_MAX_ITERS</a></span></code></th>
<td class="colLast">
<div class="block">Default maximum number of iterations per recursion level: 20.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_MIN_DOC_FREQ">DEFAULT_MIN_DOC_FREQ</a></span></code></th>
<td class="colLast">
<div class="block">Minimum required document frequency for terms to be considered: 4,096.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_MIN_PARTITION_SIZE">DEFAULT_MIN_PARTITION_SIZE</a></span></code></th>
<td class="colLast">
<div class="block">Minimum size of partitions.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">BPIndexReorderer</a></span>()</code></th>
<td class="colLast">
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../../core/org/apache/lucene/index/CodecReader.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink">CodecReader</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reorder(org.apache.lucene.index.CodecReader,org.apache.lucene.store.Directory)">reorder</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/index/CodecReader.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink">CodecReader</a>&nbsp;reader,
       <a href="../../../../../../core/org/apache/lucene/store/Directory.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">Directory</a>&nbsp;tempDir)</code></th>
<td class="colLast">
<div class="block">Reorder the given <a href="../../../../../../core/org/apache/lucene/index/CodecReader.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink"><code>CodecReader</code></a> into a reader that tries to minimize the log gap between
 consecutive documents in postings, which usually helps improve space efficiency and query
 evaluation efficiency.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setFields(java.util.Set)">setFields</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;fields)</code></th>
<td class="colLast">
<div class="block">Sets the fields to use to perform partitioning.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setForkJoinPool(java.util.concurrent.ForkJoinPool)">setForkJoinPool</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ForkJoinPool.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">ForkJoinPool</a>&nbsp;forkJoinPool)</code></th>
<td class="colLast">
<div class="block">Set the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ForkJoinPool.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>ForkJoinPool</code></a> to run graph partitioning concurrently.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMaxIters(int)">setMaxIters</a></span>&#8203;(int&nbsp;maxIters)</code></th>
<td class="colLast">
<div class="block">Set the maximum number of iterations on each recursion level, 20 by default.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMinDocFreq(int)">setMinDocFreq</a></span>&#8203;(int&nbsp;minDocFreq)</code></th>
<td class="colLast">
<div class="block">Set the minimum document frequency for terms to be considered, 4096 by default.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMinPartitionSize(int)">setMinPartitionSize</a></span>&#8203;(int&nbsp;minPartitionSize)</code></th>
<td class="colLast">
<div class="block">Set the minimum partition size, when the algorithm stops recursing, 32 by default.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRAMBudgetMB(double)">setRAMBudgetMB</a></span>&#8203;(double&nbsp;ramBudgetMB)</code></th>
<td class="colLast">
<div class="block">Set the amount of RAM that graph partitioning is allowed to use.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="DEFAULT_MIN_DOC_FREQ">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MIN_DOC_FREQ</h4>
<pre>public static final&nbsp;int DEFAULT_MIN_DOC_FREQ</pre>
<div class="block">Minimum required document frequency for terms to be considered: 4,096.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.lucene.misc.index.BPIndexReorderer.DEFAULT_MIN_DOC_FREQ">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_MIN_PARTITION_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MIN_PARTITION_SIZE</h4>
<pre>public static final&nbsp;int DEFAULT_MIN_PARTITION_SIZE</pre>
<div class="block">Minimum size of partitions. The algorithm will stop recursing when reaching partitions below
 this number of documents: 32.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.lucene.misc.index.BPIndexReorderer.DEFAULT_MIN_PARTITION_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_MAX_ITERS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_MAX_ITERS</h4>
<pre>public static final&nbsp;int DEFAULT_MAX_ITERS</pre>
<div class="block">Default maximum number of iterations per recursion level: 20. Higher numbers of iterations
 typically don't help significantly.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.lucene.misc.index.BPIndexReorderer.DEFAULT_MAX_ITERS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BPIndexReorderer</h4>
<pre>public&nbsp;BPIndexReorderer()</pre>
<div class="block">Constructor.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setMinDocFreq(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMinDocFreq</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMinDocFreq&#8203;(int&nbsp;minDocFreq)</pre>
<div class="block">Set the minimum document frequency for terms to be considered, 4096 by default.</div>
</li>
</ul>
<a id="setMinPartitionSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMinPartitionSize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMinPartitionSize&#8203;(int&nbsp;minPartitionSize)</pre>
<div class="block">Set the minimum partition size, when the algorithm stops recursing, 32 by default.</div>
</li>
</ul>
<a id="setMaxIters(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxIters</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMaxIters&#8203;(int&nbsp;maxIters)</pre>
<div class="block">Set the maximum number of iterations on each recursion level, 20 by default. Experiments
 suggests that values above 20 do not help much. However, values below 20 can be used to trade
 effectiveness for faster reordering.</div>
</li>
</ul>
<a id="setForkJoinPool(java.util.concurrent.ForkJoinPool)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setForkJoinPool</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setForkJoinPool&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ForkJoinPool.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">ForkJoinPool</a>&nbsp;forkJoinPool)</pre>
<div class="block">Set the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ForkJoinPool.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>ForkJoinPool</code></a> to run graph partitioning concurrently.

 <p>NOTE: A value of <code>null</code> can be used to run in the current thread, which is the
 default.</div>
</li>
</ul>
<a id="setRAMBudgetMB(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRAMBudgetMB</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRAMBudgetMB&#8203;(double&nbsp;ramBudgetMB)</pre>
<div class="block">Set the amount of RAM that graph partitioning is allowed to use. More RAM allows running
 faster. If not enough RAM is provided, a <a href="BPIndexReorderer.NotEnoughRAMException.html" title="class in org.apache.lucene.misc.index"><code>BPIndexReorderer.NotEnoughRAMException</code></a> will be thrown. This is
 10% of the total heap size by default.</div>
</li>
</ul>
<a id="setFields(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFields</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setFields&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;fields)</pre>
<div class="block">Sets the fields to use to perform partitioning. A <code>null</code> value indicates that all indexed
 fields should be used.</div>
</li>
</ul>
<a id="reorder(org.apache.lucene.index.CodecReader,org.apache.lucene.store.Directory)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reorder</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../../core/org/apache/lucene/index/CodecReader.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink">CodecReader</a>&nbsp;reorder&#8203;(<a href="../../../../../../core/org/apache/lucene/index/CodecReader.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink">CodecReader</a>&nbsp;reader,
                           <a href="../../../../../../core/org/apache/lucene/store/Directory.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink">Directory</a>&nbsp;tempDir)
                    throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Reorder the given <a href="../../../../../../core/org/apache/lucene/index/CodecReader.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink"><code>CodecReader</code></a> into a reader that tries to minimize the log gap between
 consecutive documents in postings, which usually helps improve space efficiency and query
 evaluation efficiency. Note that the returned <a href="../../../../../../core/org/apache/lucene/index/CodecReader.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink"><code>CodecReader</code></a> is slow and should typically
 be used in a call to <a href="../../../../../../core/org/apache/lucene/index/IndexWriter.html?is-external=true#addIndexes(org.apache.lucene.index.CodecReader...)" title="class or interface in org.apache.lucene.index" class="externalLink"><code>IndexWriter.addIndexes(CodecReader...)</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="BPIndexReorderer.NotEnoughRAMException.html" title="class in org.apache.lucene.misc.index">BPIndexReorderer.NotEnoughRAMException</a></code> - if not enough RAM is provided</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BPIndexReorderer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>Copyright &copy; 2000-2023 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</body>
</html>
