<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Thu Sep 21 21:58:26 PDT 2023 -->
<title>LogMergePolicy (Lucene 9.8.0 core API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-09-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LogMergePolicy (Lucene 9.8.0 core API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LogMergePolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.index</a></div>
<h2 title="Class LogMergePolicy" class="title">Class LogMergePolicy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="MergePolicy.html" title="class in org.apache.lucene.index">org.apache.lucene.index.MergePolicy</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.index.LogMergePolicy</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index">LogByteSizeMergePolicy</a></code>, <code><a href="LogDocMergePolicy.html" title="class in org.apache.lucene.index">LogDocMergePolicy</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">LogMergePolicy</span>
extends <a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></pre>
<div class="block">This class implements a <a href="MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a> that tries to merge segments into levels of
 exponentially increasing size, where each level has fewer segments than the value of the merge
 factor. Whenever extra segments (beyond the merge factor upper bound) are encountered, all
 segments within the level are merged. You can get or set the merge factor using <a href="#getMergeFactor()"><code>getMergeFactor()</code></a> and <a href="#setMergeFactor(int)"><code>setMergeFactor(int)</code></a> respectively.

 <p>This class is abstract and requires a subclass to define the <a href="MergePolicy.html#size(org.apache.lucene.index.SegmentCommitInfo,org.apache.lucene.index.MergePolicy.MergeContext)"><code>MergePolicy.size(org.apache.lucene.index.SegmentCommitInfo, org.apache.lucene.index.MergePolicy.MergeContext)</code></a> method which
 specifies how a segment's size is determined. <a href="LogDocMergePolicy.html" title="class in org.apache.lucene.index"><code>LogDocMergePolicy</code></a> is one subclass that
 measures size by document count in the segment. <a href="LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index"><code>LogByteSizeMergePolicy</code></a> is another
 subclass that measures size as the total byte size of the file(s) for the segment.

 <p><b>NOTE</b>: This policy returns natural merges whose size is below the <a href="#minMergeSize"><code>minimum merge size</code></a> for <a href="MergePolicy.html#findFullFlushMerges(org.apache.lucene.index.MergeTrigger,org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)"><code>full-flush merges</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.lucene.index.<a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="MergePolicy.MergeAbortedException.html" title="class in org.apache.lucene.index">MergePolicy.MergeAbortedException</a>, <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>, <a href="MergePolicy.MergeException.html" title="class in org.apache.lucene.index">MergePolicy.MergeException</a>, <a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>, <a href="MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a>, <a href="MergePolicy.OneMergeProgress.html" title="class in org.apache.lucene.index">MergePolicy.OneMergeProgress</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calibrateSizeByDeletes">calibrateSizeByDeletes</a></span></code></th>
<td class="colLast">
<div class="block">If true, we pro-rate a segment's size by the percentage of non-deleted documents.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_MAX_MERGE_DOCS">DEFAULT_MAX_MERGE_DOCS</a></span></code></th>
<td class="colLast">
<div class="block">Default maximum segment size.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_MERGE_FACTOR">DEFAULT_MERGE_FACTOR</a></span></code></th>
<td class="colLast">
<div class="block">Default merge factor, which is how many segments are merged at a time</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_NO_CFS_RATIO">DEFAULT_NO_CFS_RATIO</a></span></code></th>
<td class="colLast">
<div class="block">Default noCFSRatio.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#LEVEL_LOG_SPAN">LEVEL_LOG_SPAN</a></span></code></th>
<td class="colLast">
<div class="block">Defines the allowed range of log(size) for each level.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maxMergeDocs">maxMergeDocs</a></span></code></th>
<td class="colLast">
<div class="block">If a segment has more than this many documents then it will never be merged.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maxMergeSize">maxMergeSize</a></span></code></th>
<td class="colLast">
<div class="block">If the size of a segment exceeds this value then it will never be merged.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maxMergeSizeForForcedMerge">maxMergeSizeForForcedMerge</a></span></code></th>
<td class="colLast">
<div class="block">If the size of a segment exceeds this value then it will never be merged during <a href="IndexWriter.html#forceMerge(int)"><code>IndexWriter.forceMerge(int)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mergeFactor">mergeFactor</a></span></code></th>
<td class="colLast">
<div class="block">How many segments to merge at a time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#minMergeSize">minMergeSize</a></span></code></th>
<td class="colLast">
<div class="block">Any segments whose size is smaller than this value will be candidates for full-flush merges and
 merged more aggressively.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.lucene.index.<a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="MergePolicy.html#DEFAULT_MAX_CFS_SEGMENT_SIZE">DEFAULT_MAX_CFS_SEGMENT_SIZE</a>, <a href="MergePolicy.html#maxCFSSegmentSize">maxCFSSegmentSize</a>, <a href="MergePolicy.html#noCFSRatio">noCFSRatio</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">LogMergePolicy</a></span>()</code></th>
<td class="colLast">
<div class="block">Sole constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)">findForcedDeletesMerges</a></span>&#8203;(<a href="SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;segmentInfos,
                       <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code></th>
<td class="colLast">
<div class="block">Finds merges necessary to force-merge all deletes from the index.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findForcedMerges(org.apache.lucene.index.SegmentInfos,int,java.util.Map,org.apache.lucene.index.MergePolicy.MergeContext)">findForcedMerges</a></span>&#8203;(<a href="SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                int&nbsp;maxNumSegments,
                <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&gt;&nbsp;segmentsToMerge,
                <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code></th>
<td class="colLast">
<div class="block">Returns the merges necessary to merge the index down to a specified number of segments.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findMerges(org.apache.lucene.index.MergeTrigger,org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)">findMerges</a></span>&#8203;(<a href="MergeTrigger.html" title="enum in org.apache.lucene.index">MergeTrigger</a>&nbsp;mergeTrigger,
          <a href="SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
          <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code></th>
<td class="colLast">
<div class="block">Checks if any merges are now necessary and returns a <a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index"><code>MergePolicy.MergeSpecification</code></a> if
 so.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCalibrateSizeByDeletes()">getCalibrateSizeByDeletes</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if the segment size should be calibrated by the number of deletes when choosing
 segments for merge.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMaxMergeDocs()">getMaxMergeDocs</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the largest segment (measured by document count) that may be merged with other
 segments.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMergeFactor()">getMergeFactor</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the number of segments that are merged at once and also controls the total number of
 segments allowed to accumulate in the index.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isMerged(org.apache.lucene.index.SegmentInfos,int,java.util.Map,org.apache.lucene.index.MergePolicy.MergeContext)">isMerged</a></span>&#8203;(<a href="SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
        int&nbsp;maxNumSegments,
        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&gt;&nbsp;segmentsToMerge,
        <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code></th>
<td class="colLast">
<div class="block">Returns true if the number of segments eligible for merging is less than or equal to the
 specified <code>maxNumSegments</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maxFullFlushMergeSize()">maxFullFlushMergeSize</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the maximum size of segments to be included in full-flush merges by the default
 implementation of <a href="MergePolicy.html#findFullFlushMerges(org.apache.lucene.index.MergeTrigger,org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)"><code>MergePolicy.findFullFlushMerges(org.apache.lucene.index.MergeTrigger, org.apache.lucene.index.SegmentInfos, org.apache.lucene.index.MergePolicy.MergeContext)</code></a>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCalibrateSizeByDeletes(boolean)">setCalibrateSizeByDeletes</a></span>&#8203;(boolean&nbsp;calibrateSizeByDeletes)</code></th>
<td class="colLast">
<div class="block">Sets whether the segment size should be calibrated by the number of deletes when choosing
 segments for merge.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMaxMergeDocs(int)">setMaxMergeDocs</a></span>&#8203;(int&nbsp;maxMergeDocs)</code></th>
<td class="colLast">
<div class="block">Determines the largest segment (measured by document count) that may be merged with other
 segments.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMergeFactor(int)">setMergeFactor</a></span>&#8203;(int&nbsp;mergeFactor)</code></th>
<td class="colLast">
<div class="block">Determines how often segment indices are merged by addDocument().</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sizeBytes(org.apache.lucene.index.SegmentCommitInfo,org.apache.lucene.index.MergePolicy.MergeContext)">sizeBytes</a></span>&#8203;(<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info,
         <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code></th>
<td class="colLast">
<div class="block">Return the byte size of the provided <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a>, pro-rated by percentage of
 non-deleted documents if <a href="#setCalibrateSizeByDeletes(boolean)"><code>setCalibrateSizeByDeletes(boolean)</code></a> is set.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sizeDocs(org.apache.lucene.index.SegmentCommitInfo,org.apache.lucene.index.MergePolicy.MergeContext)">sizeDocs</a></span>&#8203;(<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info,
        <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code></th>
<td class="colLast">
<div class="block">Return the number of documents in the provided <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a>, pro-rated by
 percentage of non-deleted documents if <a href="#setCalibrateSizeByDeletes(boolean)"><code>setCalibrateSizeByDeletes(boolean)</code></a> is set.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.lucene.index.<a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="MergePolicy.html#assertDelCount(int,org.apache.lucene.index.SegmentCommitInfo)">assertDelCount</a>, <a href="MergePolicy.html#findFullFlushMerges(org.apache.lucene.index.MergeTrigger,org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)">findFullFlushMerges</a>, <a href="MergePolicy.html#findMerges(org.apache.lucene.index.CodecReader...)">findMerges</a>, <a href="MergePolicy.html#getMaxCFSSegmentSizeMB()">getMaxCFSSegmentSizeMB</a>, <a href="MergePolicy.html#getNoCFSRatio()">getNoCFSRatio</a>, <a href="MergePolicy.html#isMerged(org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.SegmentCommitInfo,org.apache.lucene.index.MergePolicy.MergeContext)">isMerged</a>, <a href="MergePolicy.html#keepFullyDeletedSegment(org.apache.lucene.util.IOSupplier)">keepFullyDeletedSegment</a>, <a href="MergePolicy.html#message(java.lang.String,org.apache.lucene.index.MergePolicy.MergeContext)">message</a>, <a href="MergePolicy.html#numDeletesToMerge(org.apache.lucene.index.SegmentCommitInfo,int,org.apache.lucene.util.IOSupplier)">numDeletesToMerge</a>, <a href="MergePolicy.html#segString(org.apache.lucene.index.MergePolicy.MergeContext,java.lang.Iterable)">segString</a>, <a href="MergePolicy.html#setMaxCFSSegmentSizeMB(double)">setMaxCFSSegmentSizeMB</a>, <a href="MergePolicy.html#setNoCFSRatio(double)">setNoCFSRatio</a>, <a href="MergePolicy.html#size(org.apache.lucene.index.SegmentCommitInfo,org.apache.lucene.index.MergePolicy.MergeContext)">size</a>, <a href="MergePolicy.html#useCompoundFile(org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.SegmentCommitInfo,org.apache.lucene.index.MergePolicy.MergeContext)">useCompoundFile</a>, <a href="MergePolicy.html#verbose(org.apache.lucene.index.MergePolicy.MergeContext)">verbose</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="LEVEL_LOG_SPAN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LEVEL_LOG_SPAN</h4>
<pre>public static final&nbsp;double LEVEL_LOG_SPAN</pre>
<div class="block">Defines the allowed range of log(size) for each level. A level is computed by taking the max
 segment log size, minus LEVEL_LOG_SPAN, and finding all segments falling within that range.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.LogMergePolicy.LEVEL_LOG_SPAN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_MERGE_FACTOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MERGE_FACTOR</h4>
<pre>public static final&nbsp;int DEFAULT_MERGE_FACTOR</pre>
<div class="block">Default merge factor, which is how many segments are merged at a time</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.LogMergePolicy.DEFAULT_MERGE_FACTOR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_MAX_MERGE_DOCS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAX_MERGE_DOCS</h4>
<pre>public static final&nbsp;int DEFAULT_MAX_MERGE_DOCS</pre>
<div class="block">Default maximum segment size. A segment of this size or larger will never be merged. @see
 setMaxMergeDocs</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.LogMergePolicy.DEFAULT_MAX_MERGE_DOCS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_NO_CFS_RATIO">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_NO_CFS_RATIO</h4>
<pre>public static final&nbsp;double DEFAULT_NO_CFS_RATIO</pre>
<div class="block">Default noCFSRatio. If a merge's size is <code>&gt;= 10%</code> of the index, then we disable compound
 file for it.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="MergePolicy.html#setNoCFSRatio(double)"><code>MergePolicy.setNoCFSRatio(double)</code></a>, 
<a href="../../../../constant-values.html#org.apache.lucene.index.LogMergePolicy.DEFAULT_NO_CFS_RATIO">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="mergeFactor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeFactor</h4>
<pre>protected&nbsp;int mergeFactor</pre>
<div class="block">How many segments to merge at a time.</div>
</li>
</ul>
<a id="minMergeSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minMergeSize</h4>
<pre>protected&nbsp;long minMergeSize</pre>
<div class="block">Any segments whose size is smaller than this value will be candidates for full-flush merges and
 merged more aggressively.</div>
</li>
</ul>
<a id="maxMergeSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxMergeSize</h4>
<pre>protected&nbsp;long maxMergeSize</pre>
<div class="block">If the size of a segment exceeds this value then it will never be merged.</div>
</li>
</ul>
<a id="maxMergeSizeForForcedMerge">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxMergeSizeForForcedMerge</h4>
<pre>protected&nbsp;long maxMergeSizeForForcedMerge</pre>
<div class="block">If the size of a segment exceeds this value then it will never be merged during <a href="IndexWriter.html#forceMerge(int)"><code>IndexWriter.forceMerge(int)</code></a>.</div>
</li>
</ul>
<a id="maxMergeDocs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxMergeDocs</h4>
<pre>protected&nbsp;int maxMergeDocs</pre>
<div class="block">If a segment has more than this many documents then it will never be merged.</div>
</li>
</ul>
<a id="calibrateSizeByDeletes">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>calibrateSizeByDeletes</h4>
<pre>protected&nbsp;boolean calibrateSizeByDeletes</pre>
<div class="block">If true, we pro-rate a segment's size by the percentage of non-deleted documents.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LogMergePolicy</h4>
<pre>public&nbsp;LogMergePolicy()</pre>
<div class="block">Sole constructor. (For invocation by subclass constructors, typically implicit.)</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getMergeFactor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMergeFactor</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getMergeFactor()</pre>
<div class="block">Returns the number of segments that are merged at once and also controls the total number of
 segments allowed to accumulate in the index.</div>
</li>
</ul>
<a id="setMergeFactor(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMergeFactor</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMergeFactor&#8203;(int&nbsp;mergeFactor)</pre>
<div class="block">Determines how often segment indices are merged by addDocument(). With smaller values, less RAM
 is used while indexing, and searches are faster, but indexing speed is slower. With larger
 values, more RAM is used during indexing, and while searches is slower, indexing is faster.
 Thus larger values (<code>&gt; 10</code>) are best for batch index creation, and smaller values (<code>
 &lt; 10</code>) for indices that are interactively maintained.</div>
</li>
</ul>
<a id="setCalibrateSizeByDeletes(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCalibrateSizeByDeletes</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCalibrateSizeByDeletes&#8203;(boolean&nbsp;calibrateSizeByDeletes)</pre>
<div class="block">Sets whether the segment size should be calibrated by the number of deletes when choosing
 segments for merge.</div>
</li>
</ul>
<a id="getCalibrateSizeByDeletes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCalibrateSizeByDeletes</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;getCalibrateSizeByDeletes()</pre>
<div class="block">Returns true if the segment size should be calibrated by the number of deletes when choosing
 segments for merge.</div>
</li>
</ul>
<a id="sizeDocs(org.apache.lucene.index.SegmentCommitInfo,org.apache.lucene.index.MergePolicy.MergeContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sizeDocs</h4>
<pre class="methodSignature">protected&nbsp;long&nbsp;sizeDocs&#8203;(<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info,
                        <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                 throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Return the number of documents in the provided <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a>, pro-rated by
 percentage of non-deleted documents if <a href="#setCalibrateSizeByDeletes(boolean)"><code>setCalibrateSizeByDeletes(boolean)</code></a> is set.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="sizeBytes(org.apache.lucene.index.SegmentCommitInfo,org.apache.lucene.index.MergePolicy.MergeContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sizeBytes</h4>
<pre class="methodSignature">protected&nbsp;long&nbsp;sizeBytes&#8203;(<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info,
                         <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                  throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Return the byte size of the provided <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a>, pro-rated by percentage of
 non-deleted documents if <a href="#setCalibrateSizeByDeletes(boolean)"><code>setCalibrateSizeByDeletes(boolean)</code></a> is set.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="isMerged(org.apache.lucene.index.SegmentInfos,int,java.util.Map,org.apache.lucene.index.MergePolicy.MergeContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMerged</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;isMerged&#8203;(<a href="SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                           int&nbsp;maxNumSegments,
                           <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&gt;&nbsp;segmentsToMerge,
                           <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                    throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Returns true if the number of segments eligible for merging is less than or equal to the
 specified <code>maxNumSegments</code>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="maxFullFlushMergeSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxFullFlushMergeSize</h4>
<pre class="methodSignature">protected&nbsp;long&nbsp;maxFullFlushMergeSize()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="MergePolicy.html#maxFullFlushMergeSize()">MergePolicy</a></code></span></div>
<div class="block">Return the maximum size of segments to be included in full-flush merges by the default
 implementation of <a href="MergePolicy.html#findFullFlushMerges(org.apache.lucene.index.MergeTrigger,org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)"><code>MergePolicy.findFullFlushMerges(org.apache.lucene.index.MergeTrigger, org.apache.lucene.index.SegmentInfos, org.apache.lucene.index.MergePolicy.MergeContext)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="MergePolicy.html#maxFullFlushMergeSize()">maxFullFlushMergeSize</a></code>&nbsp;in class&nbsp;<code><a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
</dl>
</li>
</ul>
<a id="findForcedMerges(org.apache.lucene.index.SegmentInfos,int,java.util.Map,org.apache.lucene.index.MergePolicy.MergeContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findForcedMerges</h4>
<pre class="methodSignature">public&nbsp;<a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findForcedMerges&#8203;(<a href="SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                                                       int&nbsp;maxNumSegments,
                                                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&gt;&nbsp;segmentsToMerge,
                                                       <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                                                throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Returns the merges necessary to merge the index down to a specified number of segments. This
 respects the <a href="#maxMergeSizeForForcedMerge"><code>maxMergeSizeForForcedMerge</code></a> setting. By default, and assuming <code>
 maxNumSegments=1</code>, only one segment will be left in the index, where that segment has no
 deletions pending nor separate norms, and it is in compound file format if the current
 useCompoundFile setting is true. This method returns multiple merges (mergeFactor at a time) so
 the <a href="MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a> in use may make use of concurrency.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="MergePolicy.html#findForcedMerges(org.apache.lucene.index.SegmentInfos,int,java.util.Map,org.apache.lucene.index.MergePolicy.MergeContext)">findForcedMerges</a></code>&nbsp;in class&nbsp;<code><a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>infos</code> - the total set of segments in the index</dd>
<dd><code>maxNumSegments</code> - requested maximum number of segments in the index</dd>
<dd><code>segmentsToMerge</code> - contains the specific SegmentInfo instances that must be merged away.
     This may be a subset of all SegmentInfos. If the value is True for a given SegmentInfo,
     that means this segment was an original segment present in the to-be-merged index; else, it
     was a segment produced by a cascaded merge.</dd>
<dd><code>mergeContext</code> - the MergeContext to find the merges on</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findForcedDeletesMerges</h4>
<pre class="methodSignature">public&nbsp;<a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findForcedDeletesMerges&#8203;(<a href="SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;segmentInfos,
                                                              <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                                                       throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Finds merges necessary to force-merge all deletes from the index. We simply merge adjacent
 segments that have deletes, up to mergeFactor at a time.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="MergePolicy.html#findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)">findForcedDeletesMerges</a></code>&nbsp;in class&nbsp;<code><a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>segmentInfos</code> - the total set of segments in the index</dd>
<dd><code>mergeContext</code> - the MergeContext to find the merges on</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="findMerges(org.apache.lucene.index.MergeTrigger,org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findMerges</h4>
<pre class="methodSignature">public&nbsp;<a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findMerges&#8203;(<a href="MergeTrigger.html" title="enum in org.apache.lucene.index">MergeTrigger</a>&nbsp;mergeTrigger,
                                                 <a href="SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                                                 <a href="MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                                          throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Checks if any merges are now necessary and returns a <a href="MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index"><code>MergePolicy.MergeSpecification</code></a> if
 so. A merge is necessary when there are more than <a href="#setMergeFactor(int)"><code>setMergeFactor(int)</code></a> segments at a given
 level. When multiple levels have too many segments, this method will return multiple merges,
 allowing the <a href="MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a> to use concurrency.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="MergePolicy.html#findMerges(org.apache.lucene.index.MergeTrigger,org.apache.lucene.index.SegmentInfos,org.apache.lucene.index.MergePolicy.MergeContext)">findMerges</a></code>&nbsp;in class&nbsp;<code><a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mergeTrigger</code> - the event that triggered the merge</dd>
<dd><code>infos</code> - the total set of segments in the index</dd>
<dd><code>mergeContext</code> - the IndexWriter to find the merges on</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="setMaxMergeDocs(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxMergeDocs</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMaxMergeDocs&#8203;(int&nbsp;maxMergeDocs)</pre>
<div class="block">Determines the largest segment (measured by document count) that may be merged with other
 segments. Small values (e.g., less than 10,000) are best for interactive indexing, as this
 limits the length of pauses while indexing to a few seconds. Larger values are best for batched
 indexing and speedier searches.

 <p>The default value is <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true#MAX_VALUE" title="class or interface in java.lang" class="externalLink"><code>Integer.MAX_VALUE</code></a>.

 <p>The default merge policy (<a href="LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index"><code>LogByteSizeMergePolicy</code></a>) also allows you to set this limit
 by net size (in MB) of the segment, using <a href="LogByteSizeMergePolicy.html#setMaxMergeMB(double)"><code>LogByteSizeMergePolicy.setMaxMergeMB(double)</code></a>.</div>
</li>
</ul>
<a id="getMaxMergeDocs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxMergeDocs</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getMaxMergeDocs()</pre>
<div class="block">Returns the largest segment (measured by document count) that may be merged with other
 segments.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#setMaxMergeDocs(int)"><code>setMaxMergeDocs(int)</code></a></dd>
</dl>
</li>
</ul>
<a id="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LogMergePolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>Copyright &copy; 2000-2023 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</body>
</html>
