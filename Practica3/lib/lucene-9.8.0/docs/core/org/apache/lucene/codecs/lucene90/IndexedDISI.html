<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Thu Sep 21 21:58:26 PDT 2023 -->
<title>IndexedDISI (Lucene 9.8.0 core API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-09-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IndexedDISI (Lucene 9.8.0 core API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":9,"i5":10,"i6":10,"i7":10,"i8":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IndexedDISI.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.codecs.lucene90</a></div>
<h2 title="Class IndexedDISI" class="title">Class IndexedDISI</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">org.apache.lucene.search.DocIdSetIterator</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.codecs.lucene90.IndexedDISI</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public final class <span class="typeNameLabel">IndexedDISI</span>
extends <a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></pre>
<div class="block">Disk-based implementation of a <a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> which can return the index of the current
 document, i.e. the ordinal of the current document among the list of documents that this iterator
 can return. This is useful to implement sparse doc values by only having to encode values for
 documents that actually have a value.

 <p>Implementation-wise, this <a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> is inspired of <a href="../../util/RoaringDocIdSet.html" title="class in org.apache.lucene.util"><code>roaring bitmaps</code></a> and encodes ranges of <code>65536</code> documents independently and picks between 3
 encodings depending on the density of the range:

 <ul>
   <li><code>ALL</code> if the range contains 65536 documents exactly,
   <li><code>DENSE</code> if the range contains 4096 documents or more; in that case documents are
       stored in a bit set,
   <li><code>SPARSE</code> otherwise, and the lower 16 bits of the doc IDs are stored in a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/DataInput.html?is-external=true#readShort()" title="class or interface in java.io" class="externalLink"><code>short</code></a>.
 </ul>

 <p>Only ranges that contain at least one value are encoded.

 <p>This implementation uses 6 bytes per document in the worst-case, which happens in the case
 that all ranges contain exactly one document.

 <p>To avoid O(n) lookup time complexity, with n being the number of documents, two lookup tables
 are used: A lookup table for block offset and index, and a rank structure for DENSE block index
 lookups.

 <p>The lookup table is an array of <code>int</code>-pairs, with a pair for each block. It allows for
 direct jumping to the block, as opposed to iteration from the current position and forward one
 block at a time.

 <p>Each int-pair entry consists of 2 logical parts:

 <p>The first 32 bit int holds the index (number of set bits in the blocks) up to just before the
 wanted block. The maximum number of set bits is the maximum number of documents, which is less
 than 2^31.

 <p>The next int holds the offset in bytes into the underlying slice. As there is a maximum of
 2^16 blocks, it follows that the maximum size of any block must not exceed 2^15 bytes to avoid
 overflow (2^16 bytes if the int is treated as unsigned). This is currently the case, with the
 largest block being DENSE and using 2^13 + 36 bytes.

 <p>The cache overhead is numDocs/1024 bytes.

 <p>Note: There are 4 types of blocks: ALL, DENSE, SPARSE and non-existing (0 set bits). In the
 case of non-existing blocks, the entry in the lookup table has index equal to the previous entry
 and offset equal to the next non-empty block.

 <p>The block lookup table is stored at the end of the total block structure.

 <p>The rank structure for DENSE blocks is an array of byte-pairs with an entry for each sub-block
 (default 512 bits) out of the 65536 bits in the outer DENSE block.

 <p>Each rank-entry states the number of set bits within the block up to the bit before the bit
 positioned at the start of the sub-block. Note that that the rank entry of the first sub-block is
 always 0 and that the last entry can at most be 65536-2 = 65634 and thus will always fit into an
 byte-pair of 16 bits.

 <p>The rank structure for a given DENSE block is stored at the beginning of the DENSE block. This
 ensures locality and keeps logistics simple.</div>
<dl>
<dt><span class="simpleTagLabel">NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_DENSE_RANK_POWER">DEFAULT_DENSE_RANK_POWER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.lucene.search.DocIdSetIterator">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.lucene.search.<a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></h3>
<code><a href="../../search/DocIdSetIterator.html#NO_MORE_DOCS">NO_MORE_DOCS</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.lucene.store.IndexInput,long,long,int,byte,long)">IndexedDISI</a></span>&#8203;(<a href="../../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in,
           long&nbsp;offset,
           long&nbsp;length,
           int&nbsp;jumpTableEntryCount,
           byte&nbsp;denseRankPower,
           long&nbsp;cost)</code></th>
<td class="colLast">
<div class="block">This constructor always creates a new blockSlice and a new jumpTable from in, to ensure that
 operations are independent from the caller.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#advance(int)">advance</a></span>&#8203;(int&nbsp;target)</code></th>
<td class="colLast">
<div class="block">Advances to the first beyond the current whose document number is greater than or equal to
 <i>target</i>, and returns the document number itself.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#advanceExact(int)">advanceExact</a></span>&#8203;(int&nbsp;target)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cost()">cost</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the estimated cost of this <a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createBlockSlice(org.apache.lucene.store.IndexInput,java.lang.String,long,long,int)">createBlockSlice</a></span>&#8203;(<a href="../../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;slice,
                <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;sliceDescription,
                long&nbsp;offset,
                long&nbsp;length,
                int&nbsp;jumpTableEntryCount)</code></th>
<td class="colLast">
<div class="block">Helper method for using <a href="#%3Cinit%3E(org.apache.lucene.store.IndexInput,org.apache.lucene.store.RandomAccessInput,int,byte,long)"><code>IndexedDISI(IndexInput, RandomAccessInput, int, byte, long)</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../store/RandomAccessInput.html" title="interface in org.apache.lucene.store">RandomAccessInput</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createJumpTable(org.apache.lucene.store.IndexInput,long,long,int)">createJumpTable</a></span>&#8203;(<a href="../../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;slice,
               long&nbsp;offset,
               long&nbsp;length,
               int&nbsp;jumpTableEntryCount)</code></th>
<td class="colLast">
<div class="block">Helper method for using <a href="#%3Cinit%3E(org.apache.lucene.store.IndexInput,org.apache.lucene.store.RandomAccessInput,int,byte,long)"><code>IndexedDISI(IndexInput, RandomAccessInput, int, byte, long)</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#docID()">docID</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the following:

 
   <code>-1</code> if <a href="../../search/DocIdSetIterator.html#nextDoc()"><code>DocIdSetIterator.nextDoc()</code></a> or <a href="../../search/DocIdSetIterator.html#advance(int)"><code>DocIdSetIterator.advance(int)</code></a> were not called yet.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#index()">index</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nextDoc()">nextDoc</a></span>()</code></th>
<td class="colLast">
<div class="block">Advances to the next document in the set and returns the doc it is currently on, or <a href="../../search/DocIdSetIterator.html#NO_MORE_DOCS"><code>DocIdSetIterator.NO_MORE_DOCS</code></a> if there are no more docs in the set.<br>
 <b>NOTE:</b> after the iterator has exhausted you should not call this method, as it may result
 in unpredicted behavior.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static short</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeBitSet(org.apache.lucene.search.DocIdSetIterator,org.apache.lucene.store.IndexOutput,byte)">writeBitSet</a></span>&#8203;(<a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a>&nbsp;it,
           <a href="../../store/IndexOutput.html" title="class in org.apache.lucene.store">IndexOutput</a>&nbsp;out,
           byte&nbsp;denseRankPower)</code></th>
<td class="colLast">
<div class="block">Writes the docIDs from it to out, in logical blocks, one for each 65536 docIDs in monotonically
 increasing gap-less order.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.lucene.search.DocIdSetIterator">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.lucene.search.<a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></h3>
<code><a href="../../search/DocIdSetIterator.html#all(int)">all</a>, <a href="../../search/DocIdSetIterator.html#empty()">empty</a>, <a href="../../search/DocIdSetIterator.html#range(int,int)">range</a>, <a href="../../search/DocIdSetIterator.html#slowAdvance(int)">slowAdvance</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="DEFAULT_DENSE_RANK_POWER">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_DENSE_RANK_POWER</h4>
<pre>public static final&nbsp;byte DEFAULT_DENSE_RANK_POWER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.lucene.codecs.lucene90.IndexedDISI.DEFAULT_DENSE_RANK_POWER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.lucene.store.IndexInput,long,long,int,byte,long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IndexedDISI</h4>
<pre>public&nbsp;IndexedDISI&#8203;(<a href="../../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in,
                   long&nbsp;offset,
                   long&nbsp;length,
                   int&nbsp;jumpTableEntryCount,
                   byte&nbsp;denseRankPower,
                   long&nbsp;cost)
            throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">This constructor always creates a new blockSlice and a new jumpTable from in, to ensure that
 operations are independent from the caller. See <a href="#%3Cinit%3E(org.apache.lucene.store.IndexInput,org.apache.lucene.store.RandomAccessInput,int,byte,long)"><code>IndexedDISI(IndexInput,
 RandomAccessInput, int, byte, long)</code></a> for re-use of blockSlice and jumpTable.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>in</code> - backing data.</dd>
<dd><code>offset</code> - starting offset for blocks in the backing data.</dd>
<dd><code>length</code> - the number of bytes holding blocks and jump-table in the backing data.</dd>
<dd><code>jumpTableEntryCount</code> - the number of blocks covered by the jump-table. This must match the
     number returned by <a href="#writeBitSet(org.apache.lucene.search.DocIdSetIterator,org.apache.lucene.store.IndexOutput,byte)"><code>writeBitSet(DocIdSetIterator, IndexOutput, byte)</code></a>.</dd>
<dd><code>denseRankPower</code> - the number of docIDs covered by each rank entry in DENSE blocks,
     expressed as <code>2^denseRankPower</code>. This must match the power given in <a href="#writeBitSet(org.apache.lucene.search.DocIdSetIterator,org.apache.lucene.store.IndexOutput,byte)"><code>writeBitSet(DocIdSetIterator, IndexOutput, byte)</code></a></dd>
<dd><code>cost</code> - normally the number of logical docIDs.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="writeBitSet(org.apache.lucene.search.DocIdSetIterator,org.apache.lucene.store.IndexOutput,byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBitSet</h4>
<pre class="methodSignature">public static&nbsp;short&nbsp;writeBitSet&#8203;(<a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a>&nbsp;it,
                                <a href="../../store/IndexOutput.html" title="class in org.apache.lucene.store">IndexOutput</a>&nbsp;out,
                                byte&nbsp;denseRankPower)
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Writes the docIDs from it to out, in logical blocks, one for each 65536 docIDs in monotonically
 increasing gap-less order. The caller must keep track of the number of jump-table entries
 (returned by this method) as well as the denseRankPower and provide them when constructing an
 IndexedDISI for reading.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>it</code> - the document IDs.</dd>
<dd><code>out</code> - destination for the blocks.</dd>
<dd><code>denseRankPower</code> - for <code>IndexedDISI.Method.DENSE</code> blocks, a rank will be written every <code>
     2^denseRankPower</code> docIDs. Values &lt; 7 (every 128 docIDs) or &gt; 15 (every 32768 docIDs)
     disables DENSE rank. Recommended values are 8-12: Every 256-4096 docIDs or 4-64 longs.
     <a href="#DEFAULT_DENSE_RANK_POWER"><code>DEFAULT_DENSE_RANK_POWER</code></a> is 9: Every 512 docIDs. This should be stored in meta and
     used when creating an instance of IndexedDISI.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of jump-table entries following the blocks, -1 for no entries. This should
     be stored in meta and used when creating an instance of IndexedDISI.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if there was an error writing to out.</dd>
</dl>
</li>
</ul>
<a id="createBlockSlice(org.apache.lucene.store.IndexInput,java.lang.String,long,long,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBlockSlice</h4>
<pre class="methodSignature">public static&nbsp;<a href="../../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;createBlockSlice&#8203;(<a href="../../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;slice,
                                          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;sliceDescription,
                                          long&nbsp;offset,
                                          long&nbsp;length,
                                          int&nbsp;jumpTableEntryCount)
                                   throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Helper method for using <a href="#%3Cinit%3E(org.apache.lucene.store.IndexInput,org.apache.lucene.store.RandomAccessInput,int,byte,long)"><code>IndexedDISI(IndexInput, RandomAccessInput, int, byte, long)</code></a>.
 Creates a disiSlice for the IndexedDISI data blocks, without the jump-table.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slice</code> - backing data, holding both blocks and jump-table.</dd>
<dd><code>sliceDescription</code> - human readable slice designation.</dd>
<dd><code>offset</code> - relative to the backing data.</dd>
<dd><code>length</code> - full length of the IndexedDISI, including blocks and jump-table data.</dd>
<dd><code>jumpTableEntryCount</code> - the number of blocks covered by the jump-table.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a jumpTable containing the block jump-data or null if no such table exists.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if a RandomAccessInput could not be created from slice.</dd>
</dl>
</li>
</ul>
<a id="createJumpTable(org.apache.lucene.store.IndexInput,long,long,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createJumpTable</h4>
<pre class="methodSignature">public static&nbsp;<a href="../../store/RandomAccessInput.html" title="interface in org.apache.lucene.store">RandomAccessInput</a>&nbsp;createJumpTable&#8203;(<a href="../../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;slice,
                                                long&nbsp;offset,
                                                long&nbsp;length,
                                                int&nbsp;jumpTableEntryCount)
                                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Helper method for using <a href="#%3Cinit%3E(org.apache.lucene.store.IndexInput,org.apache.lucene.store.RandomAccessInput,int,byte,long)"><code>IndexedDISI(IndexInput, RandomAccessInput, int, byte, long)</code></a>.
 Creates a RandomAccessInput covering only the jump-table data or null.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slice</code> - backing data, holding both blocks and jump-table.</dd>
<dd><code>offset</code> - relative to the backing data.</dd>
<dd><code>length</code> - full length of the IndexedDISI, including blocks and jump-table data.</dd>
<dd><code>jumpTableEntryCount</code> - the number of blocks covered by the jump-table.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a jumpTable containing the block jump-data or null if no such table exists.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if a RandomAccessInput could not be created from slice.</dd>
</dl>
</li>
</ul>
<a id="docID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>docID</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;docID()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../search/DocIdSetIterator.html#docID()">DocIdSetIterator</a></code></span></div>
<div class="block">Returns the following:

 <ul>
   <li><code>-1</code> if <a href="../../search/DocIdSetIterator.html#nextDoc()"><code>DocIdSetIterator.nextDoc()</code></a> or <a href="../../search/DocIdSetIterator.html#advance(int)"><code>DocIdSetIterator.advance(int)</code></a> were not called yet.
   <li><a href="../../search/DocIdSetIterator.html#NO_MORE_DOCS"><code>DocIdSetIterator.NO_MORE_DOCS</code></a> if the iterator has exhausted.
   <li>Otherwise it should return the doc ID it is currently on.
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../search/DocIdSetIterator.html#docID()">docID</a></code>&nbsp;in class&nbsp;<code><a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></code></dd>
</dl>
</li>
</ul>
<a id="advance(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>advance</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;advance&#8203;(int&nbsp;target)
            throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../search/DocIdSetIterator.html#advance(int)">DocIdSetIterator</a></code></span></div>
<div class="block">Advances to the first beyond the current whose document number is greater than or equal to
 <i>target</i>, and returns the document number itself. Exhausts the iterator and returns <a href="../../search/DocIdSetIterator.html#NO_MORE_DOCS"><code>DocIdSetIterator.NO_MORE_DOCS</code></a> if <i>target</i> is greater than the highest document number in the set.

 <p>The behavior of this method is <b>undefined</b> when called with <code> target &le; current
 </code>, or after the iterator has exhausted. Both cases may result in unpredicted behavior.

 <p>When <code> target &gt; current</code> it behaves as if written:

 <pre class="prettyprint">
 int advance(int target) {
   int doc;
   while ((doc = nextDoc()) &lt; target) {
   }
   return doc;
 }
 </pre>

 Some implementations are considerably more efficient than that.

 <p><b>NOTE:</b> this method may be called with <a href="../../search/DocIdSetIterator.html#NO_MORE_DOCS"><code>DocIdSetIterator.NO_MORE_DOCS</code></a> for efficiency by some
 Scorers. If your implementation cannot efficiently determine that it should exhaust, it is
 recommended that you check for that value in each call to this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../search/DocIdSetIterator.html#advance(int)">advance</a></code>&nbsp;in class&nbsp;<code><a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="advanceExact(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>advanceExact</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;advanceExact&#8203;(int&nbsp;target)
                     throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="nextDoc()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextDoc</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;nextDoc()
            throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../search/DocIdSetIterator.html#nextDoc()">DocIdSetIterator</a></code></span></div>
<div class="block">Advances to the next document in the set and returns the doc it is currently on, or <a href="../../search/DocIdSetIterator.html#NO_MORE_DOCS"><code>DocIdSetIterator.NO_MORE_DOCS</code></a> if there are no more docs in the set.<br>
 <b>NOTE:</b> after the iterator has exhausted you should not call this method, as it may result
 in unpredicted behavior.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../search/DocIdSetIterator.html#nextDoc()">nextDoc</a></code>&nbsp;in class&nbsp;<code><a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="index()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>index</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;index()</pre>
</li>
</ul>
<a id="cost()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cost</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;cost()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../search/DocIdSetIterator.html#cost()">DocIdSetIterator</a></code></span></div>
<div class="block">Returns the estimated cost of this <a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a>.

 <p>This is generally an upper bound of the number of documents this iterator might match, but
 may be a rough heuristic, hardcoded value, or otherwise completely inaccurate.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../search/DocIdSetIterator.html#cost()">cost</a></code>&nbsp;in class&nbsp;<code><a href="../../search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IndexedDISI.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>Copyright &copy; 2000-2023 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</body>
</html>
