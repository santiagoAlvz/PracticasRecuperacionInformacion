<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Thu Sep 21 21:59:40 PDT 2023 -->
<title>org.apache.lucene.replicator (Lucene 9.8.0 replicator API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-09-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.apache.lucene.replicator (Lucene 9.8.0 replicator API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.apache.lucene.replicator</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block">Files replication framework

 <p>The <a href="Replicator.html">Replicator</a> allows replicating files between a server and
 client(s). Producers publish <a href="Revision.html">revisions</a> and consumers update to the
 latest revision available. <a href="ReplicationClient.html">ReplicationClient</a> is a helper
 utility for performing the update operation. It can be invoked either <a href="ReplicationClient.html#updateNow()">manually</a> or periodically by <a href="ReplicationClient.html#startUpdateThread(long,+java.lang.String)">starting an update
 thread</a>. <a href="http/HttpReplicator.html">HttpReplicator</a> can be used to replicate
 revisions by consumers that reside on a different node than the producer.

 <p>The replication framework supports replicating any type of files, with built-in support for a
 single search index as well as an index and taxonomy pair. For a single index, the application
 should publish an <a href="IndexRevision.html">IndexRevision</a> and set <a href="IndexReplicationHandler.html">IndexReplicationHandler</a> on the client. For an index and
 taxonomy pair, the application should publish an <a href="IndexAndTaxonomyRevision.html">IndexAndTaxonomyRevision</a> and set <a href="IndexAndTaxonomyReplicationHandler.html">IndexAndTaxonomyReplicationHandler</a> on the
 client.

 <p>When the replication client detects that there is a newer revision available, it copies the
 files of the revision and then invokes the handler to complete the operation (e.g. copy the files
 to the index directory, fsync them, reopen an index reader etc.). By default, only files that do
 not exist in the handler's <a href="ReplicationClient.ReplicationHandler.html#currentRevisionFiles()">current revision
 files</a> are copied, however this can be overridden by extending the client.

 <p>An example usage of the Replicator:

 <pre class="prettyprint lang-java">
 // ++++++++++++++ SERVER SIDE ++++++++++++++ //
 IndexWriter publishWriter; // the writer used for indexing
 Replicator replicator = new LocalReplicator();
 replicator.publish(new IndexRevision(publishWriter));

 // ++++++++++++++ CLIENT SIDE ++++++++++++++ //
 // either LocalReplictor, or HttpReplicator if client and server are on different nodes
 Replicator replicator;

 // callback invoked after handler finished handling the revision and e.g. can reopen the reader.
 Callable&lt;Boolean&gt; callback = null; // can also be null if no callback is needed
 ReplicationHandler handler = new IndexReplicationHandler(indexDir, callback);
 SourceDirectoryFactory factory = new PerSessionDirectoryFactory(workDir);
 ReplicationClient client = new ReplicationClient(replicator, handler, factory);

 // invoke client manually
 client.updateNow();

 // or, periodically
 client.startUpdateThread(100); // check for update every 100 milliseconds
 </pre></div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ReplicationClient.ReplicationHandler.html" title="interface in org.apache.lucene.replicator">ReplicationClient.ReplicationHandler</a></th>
<td class="colLast">
<div class="block">Handler for revisions obtained by the client.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ReplicationClient.SourceDirectoryFactory.html" title="interface in org.apache.lucene.replicator">ReplicationClient.SourceDirectoryFactory</a></th>
<td class="colLast">
<div class="block">Resolves a session and source into a <a href="../../../../../core/org/apache/lucene/store/Directory.html?is-external=true" title="class or interface in org.apache.lucene.store" class="externalLink"><code>Directory</code></a> to use for copying the session files to.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Replicator.html" title="interface in org.apache.lucene.replicator">Replicator</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Revision.html" title="interface in org.apache.lucene.replicator">Revision</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="IndexAndTaxonomyReplicationHandler.html" title="class in org.apache.lucene.replicator">IndexAndTaxonomyReplicationHandler</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="IndexAndTaxonomyRevision.html" title="class in org.apache.lucene.replicator">IndexAndTaxonomyRevision</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="IndexAndTaxonomyRevision.SnapshotDirectoryTaxonomyWriter.html" title="class in org.apache.lucene.replicator">IndexAndTaxonomyRevision.SnapshotDirectoryTaxonomyWriter</a></th>
<td class="colLast">
<div class="block">A <a href="../../../../../facet/org/apache/lucene/facet/taxonomy/directory/DirectoryTaxonomyWriter.html?is-external=true" title="class or interface in org.apache.lucene.facet.taxonomy.directory" class="externalLink"><code>DirectoryTaxonomyWriter</code></a> which sets the underlying <a href="../../../../../core/org/apache/lucene/index/IndexWriter.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink"><code>IndexWriter</code></a>'s <a href="../../../../../core/org/apache/lucene/index/IndexDeletionPolicy.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink"><code>IndexDeletionPolicy</code></a> to <a href="../../../../../core/org/apache/lucene/index/SnapshotDeletionPolicy.html?is-external=true" title="class or interface in org.apache.lucene.index" class="externalLink"><code>SnapshotDeletionPolicy</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="IndexInputInputStream.html" title="class in org.apache.lucene.replicator">IndexInputInputStream</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="IndexReplicationHandler.html" title="class in org.apache.lucene.replicator">IndexReplicationHandler</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="IndexRevision.html" title="class in org.apache.lucene.replicator">IndexRevision</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="LocalReplicator.html" title="class in org.apache.lucene.replicator">LocalReplicator</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PerSessionDirectoryFactory.html" title="class in org.apache.lucene.replicator">PerSessionDirectoryFactory</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ReplicationClient.html" title="class in org.apache.lucene.replicator">ReplicationClient</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RevisionFile.html" title="class in org.apache.lucene.replicator">RevisionFile</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SessionToken.html" title="class in org.apache.lucene.replicator">SessionToken</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SessionExpiredException.html" title="class in org.apache.lucene.replicator">SessionExpiredException</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">use org.apache.lucene.replicator.nrt instead</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>Copyright &copy; 2000-2023 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</body>
</html>
