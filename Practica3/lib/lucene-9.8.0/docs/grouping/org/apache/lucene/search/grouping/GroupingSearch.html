<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Thu Sep 21 21:59:24 PDT 2023 -->
<title>GroupingSearch (Lucene 9.8.0 grouping API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-09-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GroupingSearch (Lucene 9.8.0 grouping API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GroupingSearch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.search.grouping</a></div>
<h2 title="Class GroupingSearch" class="title">Class GroupingSearch</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.search.grouping.GroupingSearch</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">GroupingSearch</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Convenience class to perform grouping in a non distributed environment.</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String)">GroupingSearch</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;groupField)</code></th>
<td class="colLast">
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by index terms using
 DocValues.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.lucene.queries.function.ValueSource,java.util.Map)">GroupingSearch</a></span>&#8203;(<a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function" class="externalLink">ValueSource</a>&nbsp;groupFunction,
              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;&nbsp;valueSourceContext)</code></th>
<td class="colLast">
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by function using a
 <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function" class="externalLink"><code>ValueSource</code></a> instance.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.lucene.search.grouping.GroupSelector)">GroupingSearch</a></span>&#8203;(<a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping">GroupSelector</a>&lt;?&gt;&nbsp;groupSelector)</code></th>
<td class="colLast">
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents using a <a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping"><code>GroupSelector</code></a></div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.lucene.search.Query)">GroupingSearch</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Query</a>&nbsp;groupEndDocs)</code></th>
<td class="colLast">
<div class="block">Constructor for grouping documents by doc block.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#disableCaching()">disableCaching</a></span>()</code></th>
<td class="colLast">
<div class="block">Disables any enabled cache.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../core/org/apache/lucene/util/Bits.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink">Bits</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAllGroupHeads()">getAllGroupHeads</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the matching group heads if <a href="#setAllGroupHeads(boolean)"><code>setAllGroupHeads(boolean)</code></a> was set to true or an
 empty bit set.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAllMatchingGroups()">getAllMatchingGroups</a></span>()</code></th>
<td class="colLast">
<div class="block">If <a href="#setAllGroups(boolean)"><code>setAllGroups(boolean)</code></a> was set to <code>true</code> then all matching groups are
 returned, otherwise an empty collection is returned.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#groupByDocBlock(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">groupByDocBlock</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">IndexSearcher</a>&nbsp;searcher,
               <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Query</a>&nbsp;query,
               int&nbsp;groupOffset,
               int&nbsp;groupLimit)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#groupByFieldOrFunction(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">groupByFieldOrFunction</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">IndexSearcher</a>&nbsp;searcher,
                      <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Query</a>&nbsp;query,
                      int&nbsp;groupOffset,
                      int&nbsp;groupLimit)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#search(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">search</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">IndexSearcher</a>&nbsp;searcher,
      <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Query</a>&nbsp;query,
      int&nbsp;groupOffset,
      int&nbsp;groupLimit)</code></th>
<td class="colLast">
<div class="block">Executes a grouped search.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAllGroupHeads(boolean)">setAllGroupHeads</a></span>&#8203;(boolean&nbsp;allGroupHeads)</code></th>
<td class="colLast">
<div class="block">Whether to compute all group heads (most relevant document per group) matching the query.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAllGroups(boolean)">setAllGroups</a></span>&#8203;(boolean&nbsp;allGroups)</code></th>
<td class="colLast">
<div class="block">Whether to also compute all groups matching the query.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCaching(int,boolean)">setCaching</a></span>&#8203;(int&nbsp;maxDocsToCache,
          boolean&nbsp;cacheScores)</code></th>
<td class="colLast">
<div class="block">Enables caching for the second pass search.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCachingInMB(double,boolean)">setCachingInMB</a></span>&#8203;(double&nbsp;maxCacheRAMMB,
              boolean&nbsp;cacheScores)</code></th>
<td class="colLast">
<div class="block">Enables caching for the second pass search.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setGroupDocsLimit(int)">setGroupDocsLimit</a></span>&#8203;(int&nbsp;groupDocsLimit)</code></th>
<td class="colLast">
<div class="block">Specifies the number of documents to return inside a group from the specified groupDocsOffset.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setGroupDocsOffset(int)">setGroupDocsOffset</a></span>&#8203;(int&nbsp;groupDocsOffset)</code></th>
<td class="colLast">
<div class="block">Specifies the offset for documents inside a group.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setGroupSort(org.apache.lucene.search.Sort)">setGroupSort</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Sort</a>&nbsp;groupSort)</code></th>
<td class="colLast">
<div class="block">Specifies how groups are sorted.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setIncludeMaxScore(boolean)">setIncludeMaxScore</a></span>&#8203;(boolean&nbsp;includeMaxScore)</code></th>
<td class="colLast">
<div class="block">Whether to include the score of the most relevant document per group.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSortWithinGroup(org.apache.lucene.search.Sort)">setSortWithinGroup</a></span>&#8203;(<a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Sort</a>&nbsp;sortWithinGroup)</code></th>
<td class="colLast">
<div class="block">Specified how documents inside a group are sorted.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GroupingSearch</h4>
<pre>public&nbsp;GroupingSearch&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;groupField)</pre>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by index terms using
 DocValues. The group field can only have one token per document. This means that the field must
 not be analysed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupField</code> - The name of the field to group by.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.lucene.search.grouping.GroupSelector)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GroupingSearch</h4>
<pre>public&nbsp;GroupingSearch&#8203;(<a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping">GroupSelector</a>&lt;?&gt;&nbsp;groupSelector)</pre>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents using a <a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping"><code>GroupSelector</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupSelector</code> - a <a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping"><code>GroupSelector</code></a> that defines groups for this GroupingSearch</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.lucene.queries.function.ValueSource,java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GroupingSearch</h4>
<pre>public&nbsp;GroupingSearch&#8203;(<a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function" class="externalLink">ValueSource</a>&nbsp;groupFunction,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;&nbsp;valueSourceContext)</pre>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by function using a
 <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function" class="externalLink"><code>ValueSource</code></a> instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupFunction</code> - The function to group by specified as <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html?is-external=true" title="class or interface in org.apache.lucene.queries.function" class="externalLink"><code>ValueSource</code></a></dd>
<dd><code>valueSourceContext</code> - The context of the specified groupFunction</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.lucene.search.Query)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GroupingSearch</h4>
<pre>public&nbsp;GroupingSearch&#8203;(<a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Query</a>&nbsp;groupEndDocs)</pre>
<div class="block">Constructor for grouping documents by doc block. This constructor can only be used when
 documents belonging in a group are indexed in one block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupEndDocs</code> - The query that marks the last document in all doc blocks</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="search(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre class="methodSignature">public&nbsp;&lt;T&gt;&nbsp;<a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;T&gt;&nbsp;search&#8203;(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">IndexSearcher</a>&nbsp;searcher,
                               <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Query</a>&nbsp;query,
                               int&nbsp;groupOffset,
                               int&nbsp;groupLimit)
                        throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Executes a grouped search. Both the first pass and second pass are executed on the specified
 searcher.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>searcher</code> - The <a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink"><code>IndexSearcher</code></a> instance to execute the
     grouped search on.</dd>
<dd><code>query</code> - The query to execute with the grouping</dd>
<dd><code>groupOffset</code> - The group offset</dd>
<dd><code>groupLimit</code> - The number of groups to return from the specified group offset</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the grouped result as a <a href="TopGroups.html" title="class in org.apache.lucene.search.grouping"><code>TopGroups</code></a> instance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - If any I/O related errors occur</dd>
</dl>
</li>
</ul>
<a id="groupByFieldOrFunction(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>groupByFieldOrFunction</h4>
<pre class="methodSignature">protected&nbsp;<a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&nbsp;groupByFieldOrFunction&#8203;(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">IndexSearcher</a>&nbsp;searcher,
                                           <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Query</a>&nbsp;query,
                                           int&nbsp;groupOffset,
                                           int&nbsp;groupLimit)
                                    throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="groupByDocBlock(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>groupByDocBlock</h4>
<pre class="methodSignature">protected&nbsp;<a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;?&gt;&nbsp;groupByDocBlock&#8203;(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">IndexSearcher</a>&nbsp;searcher,
                                       <a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Query</a>&nbsp;query,
                                       int&nbsp;groupOffset,
                                       int&nbsp;groupLimit)
                                throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="setCachingInMB(double,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCachingInMB</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setCachingInMB&#8203;(double&nbsp;maxCacheRAMMB,
                                     boolean&nbsp;cacheScores)</pre>
<div class="block">Enables caching for the second pass search. The cache will not grow over a specified limit in
 MB. The cache is filled during the first pass searched and then replayed during the second pass
 searched. If the cache grows beyond the specified limit, then the cache is purged and not used
 in the second pass search.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxCacheRAMMB</code> - The maximum amount in MB the cache is allowed to hold</dd>
<dd><code>cacheScores</code> - Whether to cache the scores</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="setCaching(int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCaching</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setCaching&#8203;(int&nbsp;maxDocsToCache,
                                 boolean&nbsp;cacheScores)</pre>
<div class="block">Enables caching for the second pass search. The cache will not contain more than the maximum
 specified documents. The cache is filled during the first pass searched and then replayed
 during the second pass searched. If the cache grows beyond the specified limit, then the cache
 is purged and not used in the second pass search.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxDocsToCache</code> - The maximum number of documents the cache is allowed to hold</dd>
<dd><code>cacheScores</code> - Whether to cache the scores</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="disableCaching()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableCaching</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;disableCaching()</pre>
<div class="block">Disables any enabled cache.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="setGroupSort(org.apache.lucene.search.Sort)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGroupSort</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setGroupSort&#8203;(<a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Sort</a>&nbsp;groupSort)</pre>
<div class="block">Specifies how groups are sorted. Defaults to <a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true#RELEVANCE" title="class or interface in org.apache.lucene.search" class="externalLink"><code>Sort.RELEVANCE</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupSort</code> - The sort for the groups.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="setSortWithinGroup(org.apache.lucene.search.Sort)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSortWithinGroup</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setSortWithinGroup&#8203;(<a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true" title="class or interface in org.apache.lucene.search" class="externalLink">Sort</a>&nbsp;sortWithinGroup)</pre>
<div class="block">Specified how documents inside a group are sorted. Defaults to <a href="../../../../../../core/org/apache/lucene/search/Sort.html?is-external=true#RELEVANCE" title="class or interface in org.apache.lucene.search" class="externalLink"><code>Sort.RELEVANCE</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sortWithinGroup</code> - The sort for documents inside a group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="setGroupDocsOffset(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGroupDocsOffset</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setGroupDocsOffset&#8203;(int&nbsp;groupDocsOffset)</pre>
<div class="block">Specifies the offset for documents inside a group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupDocsOffset</code> - The offset for documents inside a</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="setGroupDocsLimit(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGroupDocsLimit</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setGroupDocsLimit&#8203;(int&nbsp;groupDocsLimit)</pre>
<div class="block">Specifies the number of documents to return inside a group from the specified groupDocsOffset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupDocsLimit</code> - The number of documents to return inside a group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="setIncludeMaxScore(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIncludeMaxScore</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setIncludeMaxScore&#8203;(boolean&nbsp;includeMaxScore)</pre>
<div class="block">Whether to include the score of the most relevant document per group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>includeMaxScore</code> - Whether to include the score of the most relevant document per group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="setAllGroups(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllGroups</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setAllGroups&#8203;(boolean&nbsp;allGroups)</pre>
<div class="block">Whether to also compute all groups matching the query. This can be used to determine the number
 of groups, which can be used for accurate pagination.

 <p>When grouping by doc block the number of groups are automatically included in the <a href="TopGroups.html" title="class in org.apache.lucene.search.grouping"><code>TopGroups</code></a> and this option doesn't have any influence.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allGroups</code> - to also compute all groups matching the query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="getAllMatchingGroups()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllMatchingGroups</h4>
<pre class="methodSignature">public&nbsp;&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;T&gt;&nbsp;getAllMatchingGroups()</pre>
<div class="block">If <a href="#setAllGroups(boolean)"><code>setAllGroups(boolean)</code></a> was set to <code>true</code> then all matching groups are
 returned, otherwise an empty collection is returned.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The group value type. This can be a <a href="../../../../../../core/org/apache/lucene/util/BytesRef.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink"><code>BytesRef</code></a> or a <a href="../../../../../../core/org/apache/lucene/util/mutable/MutableValue.html?is-external=true" title="class or interface in org.apache.lucene.util.mutable" class="externalLink"><code>MutableValue</code></a>
     instance. If grouping by doc block this the group value is always <code>null</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all matching groups are returned, or an empty collection</dd>
</dl>
</li>
</ul>
<a id="setAllGroupHeads(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllGroupHeads</h4>
<pre class="methodSignature">public&nbsp;<a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a>&nbsp;setAllGroupHeads&#8203;(boolean&nbsp;allGroupHeads)</pre>
<div class="block">Whether to compute all group heads (most relevant document per group) matching the query.

 <p>This feature isn't enabled when grouping by doc block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allGroupHeads</code> - Whether to compute all group heads (most relevant document per group)
     matching the query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code></dd>
</dl>
</li>
</ul>
<a id="getAllGroupHeads()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getAllGroupHeads</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../../core/org/apache/lucene/util/Bits.html?is-external=true" title="class or interface in org.apache.lucene.util" class="externalLink">Bits</a>&nbsp;getAllGroupHeads()</pre>
<div class="block">Returns the matching group heads if <a href="#setAllGroupHeads(boolean)"><code>setAllGroupHeads(boolean)</code></a> was set to true or an
 empty bit set.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The matching group heads if <a href="#setAllGroupHeads(boolean)"><code>setAllGroupHeads(boolean)</code></a> was set to true or an
     empty bit set</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GroupingSearch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>Copyright &copy; 2000-2023 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</body>
</html>
